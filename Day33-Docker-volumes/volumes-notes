Docker Volumes
============

Why?
=====

Ø To persist app data
Ø Containers are ephemeral (temporary)
Ø If container crashes or recreated you may lose app data
Ø A container does not have its own disk

Wt?
===

Ø Volume is nothing but it is an external storage managed by docker to persist app data.
Ø Volume is nothing but a directory 
Ø You are going to be declaring a directory as a volume is called volume.
Ø One volume you can share with another container.
Ø If you delete the container volume will not be deleted.


Container = application 
Volume = hard disk

Docker file system:- 

Ø Docker builds a file system using layers

Ø While building docker images docker forms layers  - read only 
Ø While creating container docker will add or create a writable layer  - top layer
Ø These two kind  of layers are called file system 
Ø If you delete container automatically file system will be deleted - if you delete file system automatically data will be deleted , this is why containers are ephemeral 
Ø Volumes are going to creating out of the file system
Ø Docker volumes are store app data in volumes mount location or path



Volume types 
===========

	1. Anonymous volume
==================

Ø Volume created automatically by docker without a name.
Ø There is no any meaningful name to the volume

/bin/bash   - you overriding the default command of the image (CMD ["node", "server.js"]

When bash exits --> container exists 

    2. Named volume
==============

Ø It is easy to manage
Ø Reusable 
Ø Safe for db or app data
Ø It is for prod use
Ø You are going to assigning a meaningful name to the volume
Ø Named  volume is a docker  managed storage with a fixed name that you can control and can reuse across multiple containers


docker run -d --name ipl -v ipl-volume:/app -p 3000:3000 muralisocial123/ipl:latest

Syntax :- -v <volume-name:container-path> 

    3. Bind volume
=============

Ø Docker does not manage bind volume
Ø Bind volume is nothing but you are going to choose the location where you want to save your data 
Ø /var/lib/docker/volumes  - mount path of the volumes in docker
Ø You are not going to creating a volume but you are going to creating the location where you want to save your data
You can control the location the data